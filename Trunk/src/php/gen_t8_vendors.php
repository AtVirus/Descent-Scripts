<?php

$VENDOR_FIRST_ENTRY = 104000;
$ITEMS_PER_VENDOR = 100;
$VENDOR_NAME = "T8 Vendor";
$vendor_look=array(20761,20705,29054,17374,18482,4532,1355,16203,17372,1859,3808,15516,18222,1882,4209,16610,3346,3798,1878,18324,11900,1728);
$dbhost="localhost";
$dbuname="root";
$dbupass="";
$dbname="test311_world";

$dbi = mysql_connect($dbhost, $dbuname, $dbupass,true) or die("Couldn't connect to database server!");
mysql_select_db($dbname, $dbi) or die("Q 200603201239"); /**/

$unique_list="46146,46148,46149,46150,46151,46162,46164,46166,46167,46169,45429,45430,45431,45432,45433,45424,45425,45426,45427,45428,46152,46153,46154,46155,46156,46173,46174,46175,46176,46177,46178,46179,46180,46181,46182,45375,45376,45377,45379,45380,45381,45382,45383,45384,45385,45370,45371,45372,45373,45374,46141,46142,46143,46144,46145,45360,45361,45362,45363,45364,46123,46124,46125,46126,46127,45396,45397,45398,45399,45400,46163,46165,46168,46170,46172,46188,46190,46193,46195,46197,45391,45392,45393,45394,45395,45386,45387,45388,45389,45390,46111,46113,46115,46116,46117,46118,46119,46120,46121,46122,45340,45341,45342,45343,45344,45335,45336,45337,45338,45339,46200,46203,46205,46208,46212,46206,46207,46209,46210,46211,46198,46199,46201,46202,46204,45412,45413,45414,45415,45416,45406,45408,45409,45410,45411,45401,45402,45403,45404,45405,46129,46130,46132,46133,46134,45365,45367,45368,45369,46131,46135,46136,46137,46139,46140,45417,45419,45420,45421,45422,46157,46158,46159,46160,46161,46189,46191,46192,46194,46196,46183,46184,46185,46186,46187,45355,45356,45357,45358,45359,45351,45352,45353,45354,46313,45345,45346,45347,45348,45349";

echo "update item set sellprice=0 where entry in (46146,46148,46149,46150,46151,46162,46164,46166,46167,46169,45429,45430,45431,45432,45433,45424,45425,45426,45427,45428,46152,46153,46154,46155,46156,46173,46174,46175,46176,46177,46178,46179,46180,46181,46182,45375,45376,45377,45379,45380,45381,45382,45383,45384,45385,45370,45371,45372,45373,45374,46141,46142,46143,46144,46145,45360,45361,45362,45363,45364,46123,46124,46125,46126,46127,45396,45397,45398,45399,45400,46163,46165,46168,46170,46172,46188,46190,46193,46195,46197,45391,45392,45393,45394,45395,45386,45387,45388,45389,45390,46111,46113,46115,46116,46117,46118,46119,46120,46121,46122,45340,45341,45342,45343,45344,45335,45336,45337,45338,45339,46200,46203,46205,46208,46212,46206,46207,46209,46210,46211,46198,46199,46201,46202,46204,45412,45413,45414,45415,45416,45406,45408,45409,45410,45411,45401,45402,45403,45404,45405,46129,46130,46132,46133,46134,45365,45367,45368,45369,46131,46135,46136,46137,46139,46140,45417,45419,45420,45421,45422,46157,46158,46159,46160,46161,46189,46191,46192,46194,46196,46183,46184,46185,46186,46187,45355,45356,45357,45358,45359,45351,45352,45353,45354,46313,45345,45346,45347,45348,45349);<br>";
$parts = explode(",",$unique_list);
$counter=0;
$vendors_made=0;
foreach($parts as $key=>$val)
{
	if( $counter == 0 )
	{
		echo "delete from vendors where entry=$VENDOR_FIRST_ENTRY;<br>";
	}
	echo "insert into vendors (entry,item,amount,max_amount) values ($VENDOR_FIRST_ENTRY,".$val.",1,1); <br>";
//echo $row[0]."-".$row[1]."<br>";
	$counter++;
//if( $row[2] != 0 ) $common_flags = $common_flags & $row[2];
//echo "common flags now $common_flags <br>";
//echo $row[0].",";
	if($counter >= $ITEMS_PER_VENDOR)
	{
		echo "replace into creature_names (entry,name,subname,info_str,type,male_displayid) values ( $VENDOR_FIRST_ENTRY,'$VENDOR_NAME','','Buy',7,".$vendor_look[$vendors_made].");<br>";
		echo "replace into creature_proto (entry,minlevel, maxlevel, faction, minhealth, maxhealth,scale,npcflags,respawntime) values ( $VENDOR_FIRST_ENTRY,90,90,35,100,100,1,129,1);<br>";
		$VENDOR_FIRST_ENTRY++;
		$counter = 0;
		$vendors_made++;
	}
}
//maybe last vendor does not exactly have N items
if($counter < $ITEMS_PER_VENDOR)
{
	echo "replace into creature_names (entry,name,subname,info_str,type,male_displayid) values ( $VENDOR_FIRST_ENTRY,'$VENDOR_NAME','','Buy',7,".$vendor_look[$vendors_made].");<br>";
	echo "replace into creature_proto (entry,minlevel, maxlevel, faction, minhealth, maxhealth,scale,npcflags,respawntime) values ( $VENDOR_FIRST_ENTRY,90,90,35,100,100,1,129,1);<br>";
	$VENDOR_FIRST_ENTRY++;
	$counter = 0;
	$vendors_made++;
}

if( $dbi)
	mysql_close($dbi);

?>

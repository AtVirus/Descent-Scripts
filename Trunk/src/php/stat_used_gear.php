<?php

session_start();
//error_reporting(0);

//conn settings
$dbhost="localhost";
$dbuname="root";
$dbupass="lofaszka";
	$dbupass="";
$dbname="characters";
	$dbname="acemu_chars";

//database connection 
 $dbi = mysql_connect($dbhost, $dbuname, $dbupass,true) or die("Couldn't connect to database server!");
 mysql_select_db($dbname, $dbi) or die("Q 200603201239".mysql_error($dbi));

//timeout for the page
set_time_limit ( 2*60*60*10 ); 

//get basic list
if( 0 )
{
	for( $c = 1; $c <= 11; $c++ )
	{
		$classentry[$c] = "";
		//get the best 100 players of this class
		$get_query1 = "select guid from characters where class=$c and killslifetime != 0 order by killslifetime desc limit 0,100";
		$get_res1=mysql_query($get_query1,$dbi) or die(" Q20061123150121 ".mysql_error($dbi)." $get_query1 ");
		$guidlist = "0";
		while( list($guid)=mysql_fetch_row($get_res1) )
			$guidlist .= ",$guid";
		
		$get_query2 = "select distinct( entry ) from playeritems where slot < 19 and containerslot = -1 and entry < 200000 and ownerguid != 0 and ownerguid in ( $guidlist )";
	//echo $get_query2."<br>";
		$get_res1=mysql_query($get_query2,$dbi) or die(" Q20061123150121 ".mysql_error($dbi)." $get_query2 ");
		while( list($entry)=mysql_fetch_row($get_res1) )
			$classentry[$c] .= $entry.",";
		if( $classentry[$c] == "" )
			continue;
		$classentry[$c] = substr( $classentry[$c], 0, -1 );
		echo "\$classentry[$c] = array( ".$classentry[$c]." );<br>";
	}
}

//remove superiors
if( 0 )
{
	$classentry[1] = array( 6120,73445,73652,73653,73654,15197,73550,73555,73495,73489,73492,73651,73655,73553,73496,73488,78478,73536,73482,73480,73491,73494,73478,73481,73554,73479,73442,6125,52252,184707,73537,78668,78445,78657,78706,78688,78735,78389,78416,78492,78373,71446,71593,78432,70198,45581,72466,72457,72464,56431,184790,73696,184492,184493,184497,73475,73446,78371,69210,73413,77990,73412,52019,78002,72468,70232,43155,73493,78403,77992,70224,44694,73444,3427,5976,4333,77087,77090,77097,65072,184791,72413,73552,49086,73477,184949,23705,3426,184505,184504,184506,184507,184508,177085,78007,42365,40643,73551,4330,43349,43156,42360,42371,73476,46818,72412,73695,77116,78493,78452,184717,72450,72465,15196,46874,42361,70213,31404,4335,35221,15199,78390,77205,45666,70231,11840,6796,59224,45667,185329,45037,184439,45585,2577,78431,77236,73448,72467,184400,184498,184399,184436,73592,77110,70009,70005,70008,64726,72455,18231,184438,184434,184494,41251,51534,72458,42374,2575,31405,64882,72395,23709,72399,72394,72359,31780,184721,73538,44693,37254,7189,56393,72398,42363,184785,70229,42378,25549,77191,31776,68996,41255,78003,45574,65905,19505,63378 );
	$classentry[2] = array( 24143,49054,73497,73563,73622,73565,73558,73559,73556,73557,73628,73458,73594,73537,73562,73560,73625,73459,73621,72392,72449,73564,78363,69210,73627,73623,41249,73624,73488,73492,52252,73706,73555,73496,73696,73550,73705,73708,73704,73707,73489,78478,174783,73494,10052,72381,72382,72378,72380,52019,72396,72379,72456,72395,184912,73701,73536,73561,73699,73698,73700,73697,73498,69209,73570,73554,73490,73568,73567,73553,73569,73571,77992,77191,73493,73495,35221,73551,77205,70388,72389,70223,72448,72358,70369,70395,6796,73435,184429,184430,184431,184432,184433,16059,46818,73629,73468,73426,77989,44693,73491,72454,72399,72458,73475,73552,73566,10034,73592,184721,177997,42360,51534,73626,19032,73425,10055,76875,78492,78712,78432,78742,78693,184717,56280,74783,184810,184707,45983,56431,73630,5976,45673,45581,78888,78002,78373,78403,77081,77119,78493,78675,78389,70929,77097,45672,59461,78371,78448,42369,77990,15197,72457,72452,70224,15198,45667,73477,19505,45664,45585,72455,72413,65072,78445,46874,42377,184418,184419,184420,184421,184422,184400,41248,73442,74784,45574,184940,184425,184911,78476,184423,78695,2577,184426,184715,72391,19031,15199,43154,64882,6833,72450,72412,73446,72398,73447,3427,31804,70231,72390,72393,72331,72329,72327,70243,72360,184399,184497,2579,184949,23705,78717,78491,78746,78001,78406,78361,78490,44694,72324,2587,184790,3428,184785,68972,71992,76877,70213,184974,184714,174785,184488,28788,184494,184498,184439,184436,177994,31779,72384,72388,178476,78000,23192,184434,56393,4335,78692,72386,72328 );
	$classentry[3] = array( 31405,56328,71611,73716,78473,73641,73715,73717,73714,73718,73647,73585,73643,73590,73644,73588,73640,52019,73586,73648,184412,184409,184411,184408,184410,184897,73584,73581,73580,73583,72413,73582,184404,184958,184980,184705,52252,72370,78471,78401,78661,73646,69150,78489,78737,78415,78709,78447,78413,77993,78698,78674,78430,73587,178473,73536,72311,72304,73645,69210,73537,46818,73437,19032,77999,73589,78359,45669,73423,73470,71610,56427,77095,31778,78362,41255,184896,184722,73720,44694,73456,41249,42361,43155,45582,15199,49567,45577,72412,72312,72368,70225,70236,45579,42377,72306,45574,184786,42360,43349,49054,45664,73538,45983,20131,3427,73592,73719,189082,184942,51534,72309,72308,72362,6833,73460,72369,72305,72371,72364,72372,72367,4336,31804,184818,77192,35221,42369,15197,42373,23705,77990,41250,64882,31775,41248,19506,72410,65909,45581,45037,184817,177994,45674,77111,78387,5976,41252,184718,185298,185296,185295,185294,184406,187571,178413,4344,177999,41253,3428,45584,70237,31404,42378,77113 );
	$classentry[4] = array( 2105,73524,45583,73531,73528,73644,73640,73532,73537,73526,73647,73523,73471,73527,73641,73648,77947,77948,73525,73529,52252,77999,77950,77949,73533,49567,73682,69210,72412,73645,73681,73679,73680,73678,77993,73646,49052,72304,72424,70233,72306,72413,49054,73530,3427,31405,73438,19032,184967,184895,72422,78369,73454,42361,73453,73643,46874,78474,78414,73461,73455,44694,77207,184466,3428,184465,184462,184464,184463,31776,73684,184709,184708,64882,5976,15199,10052,42377,25549,49,2587,52019,78489,73536,72425,72426,72311,72308,72410,72305,15198,41249,184942,78413,78679,56427,78402,78664,78446,78738,78388,78708,78699,77113,78429,78472,45581,73445,72312,20897,45667,49086,31404,177086,56328,72423,71994,78882,42375,56280,72416,45574,6833,41250,77202,65909,31777,189082,73683,42368,20131,51534,45674,2577,23705,10056,185300,185299,43349,31778,46818,78368,77095,78462,65905,77026,41255,10034,35221,77126,178413,177999,72309,77990,19505,72360,31804,42378,4336,45983,4335,45671 );
	$classentry[5] = array( 73433,73623,73629,73541,73542,73549,73621,73627,73635,73464,73543,73632,73540,73537,42360,73498,73639,53,73636,78418,78417,73544,78419,73638,72323,72410,78392,73626,73625,78000,73630,184723,73548,71528,71531,4336,71529,71527,73637,73628,73634,73622,73631,73497,73592,73546,73450,52252,184787,184443,184444,184440,184441,184442,77989,72413,35221,184446,184445,184449,78477,184448,184447,177994,41249,73690,73693,73692,73424,73417,73694,73691,77990,72319,72317,72449,72408,72406,72412,70234,72313,72330,72322,72329,72409,72325,72400,72402,65124,78433,78364,78491,78363,77096,78722,78449,78750,78391,78731,78703,78461,6833,42377,73536,70223,72403,69210,2576,73545,73547,73465,78451,4330,73469,78475,78365,78490,78001,71086,78366,78719,42378,177995,73459,69149,71473,78747,78683,78700,73689,73687,73688,73686,73685,184354,184937,184360,184816,184401,184724,73426,184703,184712,52019,20131,41251,78682,73534,70235,42373,78728,77098,73457,77938,77991,76348,72326,72448,70227,72405,5976,72407,16060,70239,73466,72331,62047,72404,184453,185109,184898,62050,71472,71434,71989,44694,73633,73431,73744,77114,45579,65053,72401,78476,65904,178419,6835,72318,77208,45671,45578,72315,70240,184488,19031,70216,73745,72324,73434,72898,78404,76346,3428,19032,4344,77079,77078,45674,70226,72320,76359,43154,28788,73467,73593,178491,186874,3427,178363,45574,72321,72327,184452,184357,185121,73539,185367,2577,77109,77179,185364,185365,185366,185368,72360,41253 );
	$classentry[6] = array( 52019,73489,73550,73495,73488,73619,73555,73617,73553,73496,73492,73491,73618,73620,73616,73490,184791,73537,73552,69210,78478,42360,44694,49054,73494,78445,72413,73741,73740,73738,73742,73739,184399,31776,184707,184710,73554,73551,184376,184375,74783,184372,184497,184437,184373,184374,184493,184498,184492,184439,184949,53869,78002,77992,73493,46874,184790,72450,73536,43154,45581,2577,10056,72455,78403,45584,184822,184434,4332,78479,174783,184810,184491,59506,56393,177997,73477,73695,72333,72456,72334,42361,41249,46818,49086,78492,42374,72332,15198,78371,72457,43155,65909,73475,73696,52252,6833,72394,77081,178445,15197,65072,70231,72335,72336,35221,72458,10034,15199,77191,3428,5976,78373,78493,78452,73416,73449,184494,76975,71469,78389,78751,78707,78687,77090,77116,31781,184717,45670,78716,77990,78416,56431,3427,4334,78367,19505,78003,78697,72410,65118,76977,2587,69209,51534,73447,73539,45574,42363,31777,177994,72399,72395,72397,72454,70213,45674,45673,184400,16059,64884,63378,28788,33475,2576,45585,184436 );
	$classentry[7] = array( 184485,184487,184484,184483,73498,73519,73626,184486,73623,77991,73624,73622,73630,73521,184482,71086,184468,184714,78475,177995,184983,177994,73629,31405,73537,73647,73648,44694,73509,73589,73588,78472,73511,73585,73640,73512,73641,73508,73510,73642,73644,72331,72329,72449,73534,73522,72310,72429,72433,72327,72431,70223,72436,72434,72432,72435,70243,72324,73458,73503,73505,73625,73513,52019,73628,73520,73518,73592,73621,45578,73515,73594,73459,73517,73468,73507,78363,73627,73504,73502,73506,71577,78001,78491,78364,78718,45664,77096,78672,78405,78419,78739,77989,78725,78450,78691,78463,52252,41252,72430,72413,72330,72442,72360,69210,65124,78393,77083,4333,78476,77996,71560,72445,72443,72448,73539,72328,73514,73516,71580,72447,72412,73536,10034,28788,69149,71777,72358,77938,43155,78370,76757,186874,77125,184912,71997,78711,62050,78000,184911,64884,45584,72437,73453,77990,72439,72312,70217,73586,70242,73663,78723,78741,77196,73497,65906,174785,72308,72304,73646,73590,72311,184481,184479,184478,184477,184480,77188,2579,72428,72410,6833,72325,62047,72322,72446,16060,73661,73664,73665,78362,78447,78704,77999,78686,78489,78413,78415,77247,73645,78724,78733,77993,46818,63378,78404,41251,5976,71615,72444,70241,56320,69110,45581,42365,154,73587,73474,15198,73535,77082,78666,77114,78685,43348,49054,78490,78430,78451,78365,45574,73668,73666,73670,73667,73720,73669,178363,73426,72414,184958,72306,184697,184696,72309,15199,177998,184817,184406,65053,178450,15196,72441,70218,19031,78433,4330,56427,185289,185291,185290,185292,185293,77109,31404,31773,72307,72366,78368,77043,77095,77124,77080,73662,6795,15197,42369,73643,19032,177999,69209,177996,184472,184476,78429,184473,31781,184474,184475,45667,64752,31279,178419,73435 );
	$classentry[8] = array( 78391,52252,73574,73636,73575,73623,73576,73572,78392,77990,72448,73630,78419,78418,73632,73626,73573,6833,71086,73709,73712,73713,73710,73711,73464,6384,73622,73639,73629,73497,77991,73745,73627,72313,72329,72323,72320,73635,43349,41255,59519,45574,65053,73498,73433,78490,78365,70234,72326,76212,78417,78433,78720,78748,78000,78404,78449,78701,10055,72316,177995,73638,49086,42360,65906,73467,73469,10034,73537,52019,78567,72898,73434,184711,72376,72374,71462,71473,71217,71989,78366,78491,2575,71980,78364,46818,16060,49054,4334,72377,70226,73633,72373,185376,78005,3427,184866,42375,185121,178363,5976,177994,184414,77179,184416,178419,65105,184413,184417,35581,73431,184415,72375,78671,41252,45581,77114,69210,72322,72325,72449,72330,62047,73536,19031,78477,72413,73466,73450,184787,178547,184356,184898,186169,184353,184359,184357,184978,184954,45577,6096,31773,42361,78729,59326,77221,78879,2587,43348,70216,70239,184814,185377,185374,76214,2576,43157,77206,185375,184488,6796,77190,78461,23705,73744,41249,70142,23709,185109,70052,70055,70059,70058,70057,70053,70054,70056,42377,73538,68998,71784,77938,44694,78451,3428,72317,184401,6795,71797,77098,77088,69110,31774,71507,4335,28788,77079,15199,4344 );
	$classentry[9] = array( 59326,72460,72463,72313,72462,72316,70234,72329,70226,73485,72448,78490,73487,73629,73633,73627,72410,73469,73484,73483,78404,73638,73623,78392,73635,70520,49054,72320,73622,73498,73626,78000,73636,185109,73434,73537,73639,73486,73632,184898,73658,73656,73630,73657,73659,73660,78477,73744,73431,73536,49052,177994,72317,73464,45581,77991,78475,73433,69210,42360,72413,72326,72330,3427,77190,46818,72319,72325,78418,73466,5976,72314,72461,72322,72459,73467,52252,73497,70235,71797,73631,70072,70054,70062,72449,72323,70239,70216,73745,78364,2587,78681,78449,184500,78417,78749,78721,78419,78391,78730,69209,73634,62047,42377,73637,78451,77114,6097,78879,6795,42369,184353,45583,4335,10034,65053,184501,184503,184499,184502,28788,184787,15197,78366,78702,71086,4330,184815,177995,184488,178363,19506,6833,42368,25549,42361,20131,77938,71784,15198,41250,3428,77990,42372,45983,72411,78491,184978,184954,184357,185121,23709,41249,44694,71989,78365,76343,77098,71217,77088,65909,184814,76341,23705,77267,77122,77079,73538,52019,4336,71360,70142 );
	$classentry[11] = array( 77203,73622,73626,73600,73599,73605,62047,73595,73621,73596,73624,73601,73598,71086,73629,73602,73433,74785,73724,73721,73722,6795,73723,73725,73497,73498,73623,73630,73643,31405,73529,73644,73733,73641,73736,73648,73734,73737,73735,73429,73533,73642,73530,73640,73647,52019,73528,73646,77990,77993,184786,184377,184381,184380,184378,184379,74786,73531,78473,72413,72356,77991,78477,72354,73537,31778,72325,73536,43349,73532,69210,73608,73609,73610,73597,73625,73604,73592,73628,73603,73594,73606,73457,72323,72328,42360,65053,72329,184394,184393,184397,184395,184396,184488,45577,72346,72348,70226,73607,73613,73615,73611,184722,73612,73614,31776,19506,72448,72330,72357,72449,72351,52252,73459,73469,72420,72337,72416,72418,72305,72304,72308,72312,72311,178473,65124,72349,70227,72358,42372,73683,184401,73726,174785,71440,72310,69150,2577,71488,78882,71985,78368,77126,78401,77111,78402,78489,71994,56328,49052,78418,73627,72412,69139,73466,72352,10056,177995,23705,73645,73684,41249,45582,2579,65906,72338,70225,45574,16060,46874,73423,77938,72350,78363,77999,78490,45584,77194,73436,78000,78475,184385,184387,45037,186156,184388,184723,184389,174784,73732,184453,78372,78419,45583,31404,3428,20131,15198,78491,42368,78744,77095,44694,77113,4336,1973,78684,71415,78413,78713,78388,78743,77148,77080,42374,6833,18231,69209,68915,72341,72353,72340,77016,72309,72339,19032,184386,78420,178475,186211,184712,77989,70239,72345,72324,72344,73539,78451,4334,64882,41255,62050,5976,78665,174786,189082,15199,41251,68996,72326,184789,78694,77014,78446,71401,71455,72331,31779,71462,78449,40643,78001,78404,70240,77190,65904,44693,184725,185313,185309,177994,78365,78366,78364,77147,72355,71797,72306,78462,78696,78676,77020,78391,41250,31804,51534,178489,77114,184787,45579 );

	for( $c = 1; $c <= 11; $c++ )
	{
		$classentry2[$c] = "";
		if( $classentry[$c] != "" )
		{
			foreach( $classentry[$c] as $key => $val )
			{
				$classentry2[$c] .= GetNonSupperiorMatch( $val ).",";
			}
			echo "\$classentry2[$c] = array( ".$classentry2[$c]." );<br>";
		}	
	}
}
	
//filter out ones that are on vendor already or 
if( 1 )
{
	$classentry2[1] = array( 6120,73445,73652,73653,73654,15197,73550,73555,73495,73489,73492,73651,73655,73553,73496,73488,78478,73536,73482,73480,73491,73494,73478,73481,73554,73479,73442,6125,52252,73444,73537,78668,78445,78657,78706,78688,78735,78389,78416,78492,78373,71446,71593,78432,70198,45581,72466,72457,72464,56431,73442,73696,73494,73493,73489,73475,73446,78371,69210,73413,77990,73412,52019,78002,72468,70232,43155,73493,78403,77992,70224,44694,73444,3427,5976,4333,77087,77090,77097,65072,73444,72413,73552,49086,73477,73554,23705,3426,73481,73482,73480,73479,73478,73412,78007,42365,40643,73551,4330,43349,43156,42360,42371,73476,46818,72412,73695,77116,78493,78452,73442,72450,72465,15196,46874,42361,70213,31404,4335,35221,15199,78390,77205,45666,70231,11840,6796,59224,45667,78735,45037,73550,45585,2577,78431,77236,73448,72467,73496,73488,73491,73553,73592,77110,70009,70005,70008,64726,72455,18231,73551,73555,73492,41251,51534,72458,42374,2575,31405,64882,72395,23709,72399,72394,72359,31780,73443,73538,44693,37254,7189,56393,72398,42363,73443,70229,42378,25549,77191,31776,68996,41255,78003,45574,65905,19505,63378, );
	$classentry2[2] = array( 24143,49054,73497,73563,73622,73565,73558,73559,73556,73557,73628,73458,73594,73537,73562,73560,73625,73459,73621,72392,72449,73564,78363,69210,73627,73623,41249,73624,73488,73492,52252,73706,73555,73496,73696,73550,73705,73708,73704,73707,73489,78478,74783,73494,10052,72381,72382,72378,72380,52019,72396,72379,72456,72395,73425,73701,73536,73561,73699,73698,73700,73697,73498,69209,73570,73554,73490,73568,73567,73553,73569,73571,77992,77191,73493,73495,35221,73551,77205,70388,72389,70223,72448,72358,70369,70395,6796,73435,73560,73559,73558,73557,73556,16059,46818,73629,73468,73426,77989,44693,73491,72454,72399,72458,73475,73552,73566,10034,73592,73443,77992,42360,51534,73626,19032,73425,10055,76875,78492,78712,78432,78742,78693,73442,56280,74783,73553,73444,45983,56431,73630,5976,45673,45581,78888,78002,78373,78403,77081,77119,78493,78675,78389,70929,77097,45672,59461,78371,78448,42369,77990,15197,72457,72452,70224,15198,45667,73477,19505,45664,45585,72455,72413,65072,78445,46874,42377,73571,73570,73569,73568,73567,73496,41248,73442,74784,45574,73592,73564,73435,78476,73566,78695,2577,73563,73425,72391,19031,15199,43154,64882,6833,72450,72412,73446,72398,73447,3427,31804,70231,72390,72393,72331,72329,72327,70243,72360,73491,73489,2579,73554,23705,78717,78491,78746,78001,78406,78361,78490,44694,72324,2587,73442,3428,73443,68972,71992,76877,70213,73562,73435,74785,73498,28788,73492,73488,73550,73553,77990,31779,72384,72388,78363,78000,23192,73555,56393,4335,78692,72386,72328, );
	$classentry2[3] = array( 31405,56328,71611,73716,78473,73641,73715,73717,73714,73718,73647,73585,73643,73590,73644,73588,73640,52019,73586,73648,73714,73583,73715,73584,73582,73430,73584,73581,73580,73583,72413,73582,73588,73590,73586,73437,52252,72370,78471,78401,78661,73646,69150,78489,78737,78415,78709,78447,78413,77993,78698,78674,78430,73587,78473,73536,72311,72304,73645,69210,73537,46818,73437,19032,77999,73589,78359,45669,73423,73470,71610,56427,77095,31778,78362,41255,73437,73423,73720,44694,73456,41249,42361,43155,45582,15199,49567,45577,72412,72312,72368,70225,70236,45579,42377,72306,45574,73423,42360,43349,49054,45664,73538,45983,20131,3427,73592,73719,73648,73643,51534,72309,72308,72362,6833,73460,72369,72305,72371,72364,72372,72367,4336,31804,73521,77192,35221,42369,15197,42373,23705,77990,41250,64882,31775,41248,19506,72410,65909,45581,45037,73588,77990,45674,77111,78387,5976,41252,73430,78661,78698,78709,78737,73585,78004,78413,4344,69150,41253,3428,45584,70237,31404,42378,77113, );
	$classentry2[4] = array( 2105,73524,45583,73531,73528,73644,73640,73532,73537,73526,73647,73523,73471,73527,73641,73648,77947,77948,73525,73529,52252,77999,77950,77949,73533,49567,73682,69210,72412,73645,73681,73679,73680,73678,77993,73646,49052,72304,72424,70233,72306,72413,49054,73530,3427,31405,73438,19032,73422,73428,72422,78369,73454,42361,73453,73643,46874,78474,78414,73461,73455,44694,77207,73523,3428,73524,73527,73525,73526,31776,73684,73428,73422,64882,5976,15199,10052,42377,25549,49,2587,52019,78489,73536,72425,72426,72311,72308,72410,72305,15198,41249,73643,78413,78679,56427,78402,78664,78446,78738,78388,78708,78699,77113,78429,78472,45581,73445,72312,20897,45667,49086,31404,73438,56328,72423,71994,78882,42375,56280,72416,45574,6833,41250,77202,65909,31777,73648,73683,42368,20131,51534,45674,2577,23705,10056,78708,78738,43349,31778,46818,78368,77095,78462,65905,77026,41255,10034,35221,77126,78413,69150,72309,77990,19505,72360,31804,42378,4336,45983,4335,45671, );
	$classentry2[5] = array( 73433,73623,73629,73541,73542,73549,73621,73627,73635,73464,73543,73632,73540,73537,42360,73498,73639,53,73636,78418,78417,73544,78419,73638,72323,72410,78392,73626,73625,78000,73630,73424,73548,71528,71531,4336,71529,71527,73637,73628,73634,73622,73631,73497,73592,73546,73450,52252,73433,73546,73545,73549,73548,73547,77989,72413,35221,73543,73544,73540,78477,73541,73542,77990,41249,73690,73693,73692,73424,73417,73694,73691,77990,72319,72317,72449,72408,72406,72412,70234,72313,72330,72322,72329,72409,72325,72400,72402,65124,78433,78364,78491,78363,77096,78722,78449,78750,78391,78731,78703,78461,6833,42377,73536,70223,72403,69210,2576,73545,73547,73465,78451,4330,73469,78475,78365,78490,78001,71086,78366,78719,42378,77991,73459,69149,71473,78747,78683,78700,73689,73687,73688,73686,73685,73637,73591,73631,73634,73497,73424,73426,73417,73432,52019,20131,41251,78682,73534,70235,42373,78728,77098,73457,77938,77991,76348,72326,72448,70227,72405,5976,72407,16060,70239,73466,72331,62047,72404,73536,73433,73431,62050,71472,71434,71989,44694,73633,73431,73744,77114,45579,65053,72401,78476,65904,78419,6835,72318,77208,45671,45578,72315,70240,73498,19031,70216,73745,72324,73434,72898,78404,76346,3428,19032,4344,77079,77078,45674,70226,72320,76359,43154,28788,73467,73593,78491,78508,3427,78475,45574,72321,72327,73536,73635,73431,73539,78728,2577,77109,77179,78682,78703,78722,78747,72360,41253, );
	$classentry2[6] = array( 52019,73489,73550,73495,73488,73619,73555,73617,73553,73496,73492,73491,73618,73620,73616,73490,73444,73537,73552,69210,78478,42360,44694,49054,73494,78445,72413,73741,73740,73738,73742,73739,73491,31776,73444,73414,73554,73551,73616,73617,74783,73620,73489,73552,73619,73618,73493,73488,73494,73550,73554,53869,78002,77992,73493,46874,73442,72450,73536,43154,45581,2577,10056,72455,78403,45584,73552,73555,4332,78479,74783,73553,73495,59506,56393,77992,73477,73695,72333,72456,72334,42361,41249,46818,49086,78492,42374,72332,15198,78371,72457,43155,65909,73475,73696,52252,6833,72394,77081,78445,15197,65072,70231,72335,72336,35221,72458,10034,15199,77191,3428,5976,78373,78493,78452,73416,73449,73492,76975,71469,78389,78751,78707,78687,77090,77116,31781,73442,45670,78716,77990,78416,56431,3427,4334,78367,19505,78003,78697,72410,65118,76977,2587,69209,51534,73447,73539,45574,42363,31777,77990,72399,72395,72397,72454,70213,45674,45673,73496,16059,64884,63378,28788,33475,2576,45585,73553, );
	$classentry2[7] = array( 73663,73661,73664,73665,73498,73519,73626,73662,73623,77991,73624,73622,73630,73521,73507,71086,73521,73435,78475,77991,73519,77990,73629,31405,73537,73647,73648,44694,73509,73589,73588,78472,73511,73585,73640,73512,73641,73508,73510,73642,73644,72331,72329,72449,73534,73522,72310,72429,72433,72327,72431,70223,72436,72434,72432,72435,70243,72324,73458,73503,73505,73625,73513,52019,73628,73520,73518,73592,73621,45578,73515,73594,73459,73517,73468,73507,78363,73627,73504,73502,73506,71577,78001,78491,78364,78718,45664,77096,78672,78405,78419,78739,77989,78725,78450,78691,78463,52252,41252,72430,72413,72330,72442,72360,69210,65124,78393,77083,4333,78476,77996,71560,72445,72443,72448,73539,72328,73514,73516,71580,72447,72412,73536,10034,28788,69149,71777,72358,77938,43155,78370,76757,78508,77125,73425,71997,78711,62050,78000,73435,64884,45584,72437,73453,77990,72439,72312,70217,73586,70242,73663,78723,78741,77196,73497,65906,74785,72308,72304,73646,73590,72311,73666,73668,73669,73512,73667,77188,2579,72428,72410,6833,72325,62047,72322,72446,16060,73661,73664,73665,78362,78447,78704,77999,78686,78489,78413,78415,77247,73645,78724,78733,77993,46818,63378,78404,41251,5976,71615,72444,70241,56320,69110,45581,42365,154,73587,73474,15198,73535,77082,78666,77114,78685,43348,49054,78490,78430,78451,78365,45574,73668,73666,73670,73667,73720,73669,78475,73426,72414,73590,72306,73420,73421,72309,15199,77993,73588,73585,65053,78450,15196,72441,70218,19031,78433,4330,56427,78725,78691,78672,78718,78739,77109,31404,31773,72307,72366,78368,77043,77095,77124,77080,73662,6795,15197,42369,73643,19032,69150,69209,77989,73517,73513,78429,73516,31781,73515,73514,45667,64752,31279,78419,73435, );
	$classentry2[8] = array( 78391,52252,73574,73636,73575,73623,73576,73572,78392,77990,72448,73630,78419,78418,73632,73626,73573,6833,71086,73709,73712,73713,73710,73711,73464,6384,73622,73639,73629,73497,77991,73745,73627,72313,72329,72323,72320,73635,43349,41255,59519,45574,65053,73498,73433,78490,78365,70234,72326,76212,78417,78433,78720,78748,78000,78404,78449,78701,10055,72316,77991,73638,49086,42360,65906,73467,73469,10034,73537,52019,78567,72898,73434,73436,72376,72374,71462,71473,71217,71989,78366,78491,2575,71980,78364,46818,16060,49054,4334,72377,70226,73633,72373,78720,78005,3427,73436,42375,73431,78475,5976,77990,73575,77179,73573,78419,65105,73576,73572,35581,73431,73574,72375,78671,41252,45581,77114,69210,72322,72325,72449,72330,62047,73536,19031,78477,72413,73466,73450,73433,78547,73636,73431,78510,73638,73633,73635,73632,73639,45577,6096,31773,42361,78729,59326,77221,78879,2587,43348,70216,70239,73636,78701,78748,76214,2576,43157,77206,78729,73498,6796,77190,78461,23705,73744,41249,70142,23709,73433,70052,70055,70059,70058,70057,70053,70054,70056,42377,73538,68998,71784,77938,44694,78451,3428,72317,73497,6795,71797,77098,77088,69110,31774,71507,4335,28788,77079,15199,4344, );
	$classentry2[9] = array( 59326,72460,72463,72313,72462,72316,70234,72329,70226,73485,72448,78490,73487,73629,73633,73627,72410,73469,73484,73483,78404,73638,73623,78392,73635,70520,49054,72320,73622,73498,73626,78000,73636,73433,73434,73537,73639,73486,73632,73431,73658,73656,73630,73657,73659,73660,78477,73744,73431,73536,49052,77990,72317,73464,45581,77991,78475,73433,69210,42360,72413,72326,72330,3427,77190,46818,72319,72325,78418,73466,5976,72314,72461,72322,72459,73467,52252,73497,70235,71797,73631,70072,70054,70062,72449,72323,70239,70216,73745,78364,2587,78681,78449,73659,78417,78749,78721,78419,78391,78730,69209,73634,62047,42377,73637,78451,77114,6097,78879,6795,42369,73638,45583,4335,10034,65053,73658,73656,73660,73657,28788,73433,15197,78366,78702,71086,4330,73635,77991,73498,78475,19506,6833,42368,25549,42361,20131,77938,71784,15198,41250,3428,77990,42372,45983,72411,78491,73632,73639,73635,73431,23709,41249,44694,71989,78365,76343,77098,71217,77088,65909,73636,76341,23705,77267,77122,77079,73538,52019,4336,71360,70142, );
	$classentry2[11] = array( 77203,73622,73626,73600,73599,73605,62047,73595,73621,73596,73624,73601,73598,71086,73629,73602,73433,74785,73724,73721,73722,6795,73723,73725,73497,73498,73623,73630,73643,31405,73529,73644,73733,73641,73736,73648,73734,73737,73735,73429,73533,73642,73530,73640,73647,52019,73528,73646,77990,77993,73423,73615,73611,73612,73614,73613,74786,73531,78473,72413,72356,77991,78477,72354,73537,31778,72325,73536,43349,73532,69210,73608,73609,73610,73597,73625,73604,73592,73628,73603,73594,73606,73457,72323,72328,42360,65053,72329,73598,73599,73595,73597,73596,73498,45577,72346,72348,70226,73607,73613,73615,73611,73423,73612,73614,31776,19506,72448,72330,72357,72449,72351,52252,73459,73469,72420,72337,72416,72418,72305,72304,72308,72312,72311,78473,65124,72349,70227,72358,42372,73683,73497,73726,74785,71440,72310,69150,2577,71488,78882,71985,78368,77126,78401,77111,78402,78489,71994,56328,49052,78418,73627,72412,69139,73466,72352,10056,77991,23705,73645,73684,41249,45582,2579,65906,72338,70225,45574,16060,46874,73423,77938,72350,78363,77999,78490,45584,77194,73436,78000,78475,73607,73605,45037,78490,73604,73424,73603,74784,73732,73536,78372,78419,45583,31404,3428,20131,15198,78491,42368,78744,77095,44694,77113,4336,1973,78684,71415,78413,78713,78388,78743,77148,77080,42374,6833,18231,69209,68915,72341,72353,72340,77016,72309,72339,19032,73606,78420,78404,78491,73432,77989,70239,72345,72324,72344,73539,78451,4334,64882,41255,62050,5976,78665,74786,73648,15199,41251,68996,72326,73429,78694,77014,78446,71401,71455,72331,31779,71462,78449,40643,78001,78404,70240,77190,65904,44693,73429,78665,78743,77990,78365,78366,78364,77147,72355,71797,72306,78462,78696,78676,77020,78391,41250,31804,51534,78489,77114,73433,45579, );


	//filter out junk 
	for( $c = 1; $c <= 11; $c++ )
	{
		if( $classentry2[$c] != "" )
		{
			foreach( $classentry2[$c] as $key => $val )
			{
				$get_query1 = "select entry from wowbeez_db.items where entry=$val and inventorytype not in ( 4, 19 )";
				$get_res1=mysql_query($get_query1,$dbi) or die(" Q20061123150121 ".mysql_error($dbi)." $get_query1 ");
				list( $entry )=mysql_fetch_row( $get_res1 );
				$classentry2[$c][$key] = $entry;
			}
		}
	}
	
	//get vendors that cover some of the items here
	$vendors = "";
	$needvendors = "";
	for( $c = 1; $c <= 11; $c++ )
	{
		if( $classentry2[$c] != "" )
		{
			foreach( $classentry2[$c] as $key => $val )
			{
				if( $val <= 0 )
					continue;
				$get_query1 = "select distinct entry from wowbeez_db.vendors where item=$val";
				$get_res1=mysql_query($get_query1,$dbi) or die(" Q20061123150121 ".mysql_error($dbi)." $get_query1 ");
				list( $entry )=mysql_fetch_row( $get_res1 );
				if( $entry != 0 && strpos( "#".$vendors, $entry ) == 0 )
					$vendors .= "$entry,";
				if( $entry == 0 && strpos( "#".$needvendors, $val ) == 0 )
					$needvendors .= "$val,";
			}
		}
	}
	
	$vendors = substr( $vendors, 0, -1 );
	$needvendors = substr( $needvendors, 0, -1 );
	
	echo "\$vendors = array( $vendors );<br>";
	echo "\$needvendors = array( $needvendors );<br>";
	
	$vendors = array( 54655,54656,54657,44245,54402,52539,54654,52538,250020,54401,54658,54659,52540,44246,32836,53881,52534 );
	$needvendors = array( 78478,78445,78389,78416,78492,78373,71446,78432,56431,78371,77990,78002,78403,77992,65072,78007,78493,78452,78390,77205,59224,78431,77236,37254,7189,56393,77191,78003,78363,77989,56280,78888,70929,59461,78448,78476,78491,78001,78406,78361,78490,68972,71992,78000,56328,71611,78473,78471,78401,69150,78489,78415,78447,78413,77993,78430,77999,78359,71610,56427,78362,77192,78387,78004,77947,77948,77950,77949,78369,78474,78414,77207,78402,78446,78388,78429,78472,71994,78882,77202,78368,78462,78418,78417,78419,78392,78477,65124,78433,78364,78449,78391,78461,78451,78475,78365,71086,78366,77991,69149,71473,77938,62047,62050,71472,71434,71989,65053,77208,72898,78404,78508,78479,59506,71469,78367,65118,33475,78405,78450,78463,78393,77996,71777,78370,71997,77196,77188,77247,71615,56320,69110,59519,78567,71462,71980,78005,65105,35581,78547,78510,59326,77221,78879,77206,77190,71784,71797,77267,71360,77203,71440,71985,69139,77194,78372,1973,71415,68915,78420,71401,71455 );
}

if( 0 )
{
	//item level 390 is startup gear "Ruthless Gladiator's Plate Chestpiece"
	//item level 403 is endgame gear "Cataclysmic Gladiator's Plate Chestpiece"
	//try to create 3 tiers for each item
	for( $invt = 1; $invt <= 28; $invt++ )
	{
		//get a few items and see what players opted for
		$get_query1 = "select entry from wowbeez_db.items where inventorytype=$invt and itemlevel<=403 order by itemlevel desc limit 0,100";
		$get_res1=mysql_query($get_query1,$dbi) or die(" Q20061123150121 ".mysql_error($dbi)." $get_query1 ");
		while( list($entry)=mysql_fetch_row($get_res1) )
		{
			$get_query1 = "select ownerguid,slot from wowbeez_db.items where inventorytype=$invt and itemlevel<=403 order by itemlevel desc limit 0,100";
			$get_res1=mysql_query($get_query1,$dbi) or die(" Q20061123150121 ".mysql_error($dbi)." $get_query1 ");
			while( list($entry)=mysql_fetch_row($get_res1) )
			$class_slot[$in
		}
	}
	//make weakest tier of items startup items
	/*
	#spawn the vendors
	*/
}

function GetNonSupperiorMatch( $entry )
{
	global $dbi;
	$get_query1 = "select entry from wowbeez_db.items where entry = $entry and name1 not like '%superior%'";
	$get_res1=mysql_query($get_query1,$dbi) or die(" Q20061123150121 ".mysql_error($dbi)." $get_query1 ");
	list($is_not_sup)=mysql_fetch_row($get_res1);
	if( $is_not_sup != 0 )
	{
//echo "$entry<br>";
		return $entry;
	}
	
	//get superior details
	$get_query1 = "select inventorytype,class,subclass,name1 from wowbeez_db.items where entry = $entry";
	$get_res1=mysql_query($get_query1,$dbi) or die(" Q20061123150121 ".mysql_error($dbi)." $get_query1 ");
	list($inventorytype,$class,$subclass,$name)=mysql_fetch_row($get_res1);
	$nakedname = str_replace( "Superior ","", $name );
//echo "$nakedname - $name<br>";

	//get best non superior
	$get_query1 = "select entry from wowbeez_db.items where name1='".mysql_escape_string($nakedname)."' order by itemlevel desc limit 0,1";
	$get_res1=mysql_query($get_query1,$dbi) or die(" Q20061123150121 ".mysql_error($dbi)." $get_query1 ");
	list($entry2)=mysql_fetch_row($get_res1);
	if( $entry2 == 0 )
		echo "!could not find root for $entry <br>";
	return $entry2;
}

?>